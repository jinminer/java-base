
# 内部类

> **内部类的对象默认持有创建它的那个封装类的一个对象的句柄。**

## 字节码文件

> ```
> 由于每个类都会生成一个.class 文件，用于容纳与如何创建这个类型的对象有关的所有信息（这种信息产生
> 了一个名为 Class 对象的元类），所以大家或许会猜到内部类也必须生成相应的.class 文件，用来容纳与它
> 们的Class 对象有关的信息。这些文件或类的名字遵守一种严格的形式：先是封装类的名字，再跟随一个$，
> 再跟随内部类的名字。
> 如果内部类是匿名的，那么编译器会简单地生成数字，把它们作为内部类标识符使用。若内部类嵌套于其他
> 内部类中，则它们的名字简单地追加在一个$以及外部类标识符的后面。
> ```



## 内部类继承

> ```
> 由于内部类构建器必须同封装类对象的一个句柄联系到一起，所以从一个内部类继承的时候，情况会稍微变
> 得有些复杂。这儿的问题是封装类的“秘密”句柄必须获得初始化，而且在衍生类中不再有一个默认的对象
> 可以连接。
> ```



## 内部类初始化

### 普通内部类

```java
OuterClass outerClass = new OuterClass();
OuterClass.InnerClass innerClass = outerClass.new InnerClass();
```

## static 内部类

* 规则

  * **static内部类的对象不会持有创建它的那个封装类的一个对象的句柄。**

  * 为创建一个 static 内部类的对象，我们不需要一个外部类对象。
  * 不能从 static 内部类的一个对象中访问一个外部类对象。

* 限制
  * 由于static 成员只能位于一个类的外部级别，所以非static内部类不可拥有static 数据或 static 内部类。
  * 倘若为了创建内部类的对象而不需要创建外部类的一个对象，那么可将所有东西都设为static。为了能正常工作，同时也必须将内部类设为static。







